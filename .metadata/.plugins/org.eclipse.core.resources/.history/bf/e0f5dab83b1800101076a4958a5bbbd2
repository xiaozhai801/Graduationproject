package com.zpq.dao;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;

import com.zpq.pojo.Article;
import com.zpq.utils.DBUtil;

public class PersonalInfoDaoImpl implements PersonalInfoDao {

	@Override
	public List<Object> SelectPerSonalInfo(String name) {
		// TODO Auto-generated method stub
		List<Object> userList = new ArrayList<>();
		DBUtil dbUtil = new DBUtil();
		
		String sql = "select * from v_userinfo where name=?";
		PreparedStatement ps = dbUtil.getPreparedStatement(sql);
		ps.setString(1, name);
		
		ResultSet rs = ps.executeQuery();
		while (rs.next()) {
			Article searchArticle = new Article();
			searchArticle.setTitleId(rs.getInt("titleId"));
			searchArticle.setUserId(rs.getInt("userId"));
			searchArticle.setName(rs.getString("name"));
			searchArticle.setTopic(rs.getString("topic"));
			searchArticle.setModel(rs.getString("model"));
			searchArticle.setUploadTime(rs.getString("uploadTime"));
			searchArticle.setRelease(rs.getInt("release"));
			searchArticle.setViews(rs.getInt("views"));
			searchArticle.setLikes(rs.getInt("likes"));
			searchArticleList.add(searchArticle);
		}
		// 返回搜索到的文章对象列表
		return searchArticleList;
	}

}
